{#-
  Template file for the header.
-#}

{%- set manual_title %}
<span class="inline-block font-medium text-gray-100 mx-5 py-4">{{ docstitle }}</span>
{%- endset -%}

{%- set logo_img -%}
<img class="h-8 mx-5" src="{{ pathto('_static/' + logo, 1) }}" alt="Logo" />
{%- endset -%}

{%- macro headerlink(inner, padding=false) -%}
<a class="{% if padding %}p-4{% endif %} hover:bg-gray-700 focus:bg-gray-700 tooltipped tooltipped-se"
   href="{{ pathto(master_doc) }}"
   aria-label="{{ _('Back to homepage') }}">
  {{ inner }}
</a>
{%- endmacro -%}

<div class="bg-gray-900 shadow-md flex items-center z-10">
  {#- show logo on the left side of the header -#}
  <div class="sidebar-width flex items-center">
  {%- if logo -%}
    {{ logo_img }}
  {% endif %}
  {%- if pagename != master_doc %}
    {{ headerlink(manual_title) }}
  {%- else -%}
    {{ manual_title }}
  {%- endif -%}
  </div>

  {#- show a search input field on the right side -#}
  <div class="lg:ml-fluid flex justify-between items-center">
    <form
      id="searchbox"
      action="{{ pathto('search') }}"
      method="get"
      style="width: 300px;"
      class="hidden md:flex print:hidden justify-between items-center mx-5 py-2
      bg-gray-700 text-sm text-gray-300 hover:text-highlight focus-within:bg-gray-50
      focus-within:text-gray-800">

      <button class="p-2 text-inherit" aria-label="{{ _('Get search results') }}">
        <svg aria-hidden="true" class="fill-current stroke-current h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
      </button>

      <input
        name="q"
        id="search-input"
        type="search"
        aria-label="Search the docs"
        placeholder="{{ _('Search the docs') }}"
        class="p-2 flex-1 bg-transparent text-inherit focus:text-gray-800"
      />
    </form>
  </div>
</div>
