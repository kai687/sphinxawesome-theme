{#-
  Template file for the header.
-#}

{%- set manual_title %}
<span class="hidden xs:inline-block font-medium text-gray-100 mx-5 leading-header tracking-wider">{{ docstitle }}</span>
{%- endset -%}

{%- set logo_img -%}
<img class="h-18 w-18 p-5" src="{{ pathto('_static/' + logo, 1) }}" alt="Logo" />
{%- endset -%}

{%- macro home_link(inner, padding=false) -%}
<a class="{% if padding %}p-4{% endif %} hover:bg-gray-700 focus:bg-gray-700 focus:outline-none tooltipped tooltipped-se"
   href="{{ pathto(master_doc) }}"
   aria-label="{{ _('Back to homepage') }}">
  {{ inner }}
</a>
{%- endmacro -%}

{%- macro extra_link(text, url) -%}
  {%- set active = "bg-gray-700 border-b-4 border-brand" if pagename in url else "bg-transparent" -%}
  <a href="{{ pathto(url) }}" class="h-18 inline-block leading-header text-gray-100 {{ active }} tracking-wide font-medium hover:bg-gray-700 hover:text-brand focus:bg-gray-700 focus:outline-none hover:no-underline focus:text-brand px-4">{{ text }}</a>
{%- endmacro -%}


<div class="bg-gray-dark shadow-md flex items-center h-full xl:px-2">
  {#- show logo on the left side of the header -#}
  <div class="sidebar-width flex items-center">
  {%- if logo -%}
    {{ logo_img }}
  {% endif %}
  {%- if pagename != master_doc %}
    {{ home_link(manual_title) }}
  {%- else -%}
    {{ manual_title }}
  {%- endif -%}
  </div>

  {#- show a search input field on the right side -#}
  <div class="lg:ml-fluid flex justify-between items-center w-full">
<form
      id="searchbox"
      action="{{ pathto('search') }}"
      method="get"
      style="width: 300px;"
      class="hidden xl:flex print:hidden justify-between items-center leading-header ml-4
      bg-gray-dark hover:bg-gray-700 text-sm text-gray-300 hover:text-brand focus-within:bg-gray-50
      focus-within:text-gray-800 group">

      <button class="text-inherit group-hover:text-brand focus:text-brand h-18 w-18
        group-focus:text-brand focus:outline-none" aria-label="{{ _('Get search results') }}">
        <svg aria-hidden="true" class="fill-current stroke-current h-8 w-8" stroke-width="0.5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
      </button>

      <input
        name="q"
        id="search-input"
        data-search-target="searchInput"
        type="search"
        aria-label="Search the docs"
        placeholder="{{ _('Search the docs') }}"
        class="pr-2 flex-1 bg-transparent text-inherit
               group-hover:text-brand focus:text-gray-800
               group-focus:text-gray-800 focus:outline-none"
      />
    </form>

    {%- if theme_extra_header_links|tobool -%}
      <div>
        {%- for text, url in theme_extra_header_links.items() -%}
          {{ extra_link(text, url) }}
        {%- endfor -%}
      </div>
    {%- endif -%}
  </div>
</div>
